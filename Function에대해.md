Function extensionality에 대해 생각해봤는데요. Function extensionality가 부정되는 것이 자연스러울 수 있다는 생각이 듭니다. Function이 입력이 들어오면 출력을 내뱉는 blackbox로 생각되기보다는, "함수 정의의 AST" 같은 것인 것이 더 자연스럽겠다는 생각이 들었습니다. (그럼 Function extensionality는 자연스럽게 거짓이 됩니다. 같은 입/출력 결과를 갖는 함수에 대해 여러 구현(AST)이 있을 수 있으니까요)


다음은 Function이 blackbox로 생각되는것이 이상한 이유들입니다.

다른 constructive한 타입(명제)들은 그 타입의 값이 있으면, 그 타입의 구조를 하나하나 뜯으면서 그 결과가 나오게 된 증명과정을 출력하는 코드를 작성할 수 있습니다. 예를 들어 Agda에서 (2 <= 7) 에 대해 이 타입의 값이 나오게 되는 증명 과정을 출력(말 그대로 콘솔에 출력)하는 코드를 작성할 수 있습니다. 그런데 함수의 경우 그렇지 않습니다. "(n : N) -> (n <= suc n)" 타입의  증명을 출력하는 코드를 작성할 수는 없습니다. 함수 타입의 값이나 Inductive type의 값이나 같은 증명인데, 값은 출력가능하고 함수는 출력불가능한 것은 이상합니다.

(a : A) -> B a 타입의 증명들이 모두 같다는 것은 이상해보입니다. 그냥 이상해보입니다. 이걸 함수라고 생각하면 당연해보이는데, '증명'이라고 생각하면, 저 타입에 대한 증명들이 모두 같다는 것은 이상해보입니다.

Function을 blackbox로 취급하는 것은 Function 형태의 가능한 다양한 증명을 뭉개버리는(?) 느낌이 듭니다. 그래서  Function은 입력에 따라 출력을 내뱉는 blackbox가 아니라, 함수 정의의 AST를 값으로 갖는 타입이 되어야 자연스러워보입니다. 그래야 그 함수 타입의 값이 정말 '증명과정'으로서 사용(예를 들어 콘솔에 증명을 출력)될 수 있으니까요.